(function(e){function t(t){for(var p,r,o=t[0],s=t[1],d=t[2],m=0,c=[];m<o.length;m++)r=o[m],n[r]&&c.push(n[r][0]),n[r]=0;for(p in s)Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);g&&g(t);while(c.length)c.shift()();return a.push.apply(a,d||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],p=!0,o=1;o<i.length;o++){var s=i[o];0!==n[s]&&(p=!1)}p&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var p={},n={app:0},a=[];function r(t){if(p[t])return p[t].exports;var i=p[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=p,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var p in e)r.d(i,p,function(t){return e[t]}.bind(null,p));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var g=s;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},1:function(e,t){},2:function(e,t){},"56d7":function(e,t,i){"use strict";i.r(t);i("28a5");var p=i("e814"),n=i.n(p);i("cadf"),i("551c"),i("f751"),i("097d");(function(){function e(){t(),i(),p()}function t(){n=$("#common-landscape"),a=$("#common-pc"),$("#common-share"),$(".common-container")}function i(){var e=function(){switch(window.orientation){case 0:case 180:n.hide();break;case-90:case 90:n.show()}};e(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",e,!1)}function p(){$.os.phone||$.os.tablet||(new QRCode(a.children()[0]).makeCode(location.href),$("body").children().hide(),a.show())}var n,a;$(e)})();var a,r,o=i("ea13"),s=i.n(o),d=i("ec9e"),g=(i("fe3d"),window.innerHeight>1334?1334:window.innerHeight),m=[{id:"z0_m1",start:0,end:2*g},{id:"z1_m1",start:3.5*g},{id:"z3_m1",start:5.5*g},{id:"z4_m1",start:7.5*g},{id:"z5_m1",start:13.5*g},{id:"z6_m1",start:15.5*g}],c="/",l=[{id:"封面.jpg",src:c+"images/封面.jpg"},{id:"故事1-1.jpg",src:c+"images/故事1-1.jpg"},{id:"故事1-2.jpg",src:c+"images/故事1-2.jpg"},{id:"故事1-3.jpg",src:c+"images/故事1-3.jpg"},{id:"故事1-4.jpg",src:c+"images/故事1-4.jpg"},{id:"故事1-5-1-2.jpg",src:c+"images/故事1-5-1-2.jpg"},{id:"故事1.jpg",src:c+"images/故事1.jpg"},{id:"故事2-1.jpg",src:c+"images/故事2-1.jpg"},{id:"故事2-2.jpg",src:c+"images/故事2-2.jpg"},{id:"故事2-3.jpg",src:c+"images/故事2-3.jpg"},{id:"故事2-4.jpg",src:c+"images/故事2-4.jpg"},{id:"故事2-5-1-2.jpg",src:c+"images/故事2-5-1-2.jpg"},{id:"故事2.jpg",src:c+"images/故事2.jpg"},{id:"故事3-1.jpg",src:c+"images/故事3-1.jpg"},{id:"故事3-2.jpg",src:c+"images/故事3-2.jpg"},{id:"故事3-3.jpg",src:c+"images/故事3-3.jpg"},{id:"故事3-4.jpg",src:c+"images/故事3-4.jpg"},{id:"故事3-5-1-2-3.jpg",src:c+"images/故事3-5-1-2-3.jpg"},{id:"故事3-6.jpg",src:c+"images/故事3-6.jpg"},{id:"故事3-7.jpg",src:c+"images/故事3-7.jpg"},{id:"故事3.jpg",src:c+"images/故事3.jpg"}],u=i("75fc"),y=window.innerHeight>1334?1334:window.innerHeight,j=[{id:"p0",type:"Container",propes:{},delay:"p0",animations:[{prope:"y",time:[0,0,y,y],value:[0,-y]}]},{id:"封面.jpg",type:"Bitmap",image:"封面.jpg",parent:"p0",delay:"p0",propes:{},animations:[]}],f=j,h=window.innerHeight>1334?1334:window.innerHeight,v=[{id:"p1",type:"Container",propes:{},delay:"p1",animations:[{prope:"y",time:[0,0,6*h,6*h],value:[0,-6*h]},{prope:"alpha",time:[0,5.9*h,6*h,6*h],value:[1,0]}]},{id:"故事1.jpg",type:"Bitmap",image:"故事1.jpg",parent:"p1",delay:"p1",propes:{y:0},animations:[]},{id:"故事1-1.jpg",type:"Bitmap",image:"故事1-1.jpg",parent:"p1",delay:"p1",propes:{y:h},animations:[]},{id:"故事1-2.jpg",type:"Bitmap",image:"故事1-2.jpg",parent:"p1",delay:"p1",propes:{y:2*h},animations:[]},{id:"故事1-3.jpg",type:"Bitmap",image:"故事1-3.jpg",parent:"p1",delay:"p1",propes:{y:3*h},animations:[]},{id:"故事1-4.jpg",type:"Bitmap",image:"故事1-4.jpg",parent:"p1",delay:"p1",propes:{y:4*h},animations:[]},{id:"故事1-5-1-2",type:"TextureAtlas",image:"故事1-5-1-2.jpg",parent:"null",propes:{frames:[[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"故事1-5-1-2-sprite",type:"Sprite",frames:"故事1-5-1-2.sprite",parent:"p1",delay:"p1",propes:{interval:200,timeBased:!0,y:5*h},animations:[]}],w=v,b=i("bd86"),O=window.innerHeight>1334?1334:window.innerHeight,B=(a={p2:0},Object(b["a"])(a,"p2",O-1206),Object(b["a"])(a,"p3",O-1334),Object(b["a"])(a,"p4",O-1334),[{id:"p2",type:"Container",propes:{},delay:"p2",animations:[{prope:"y",time:[0,0,6*O,6*O],value:[0,-6*O]},{prope:"alpha",time:[0,5.9*O,6*O,6*O],value:[1,0]}]},{id:"故事2.jpg",type:"Bitmap",image:"故事2.jpg",parent:"p2",delay:"p2",propes:{y:0},animations:[]},{id:"故事2-1.jpg",type:"Bitmap",image:"故事2-1.jpg",parent:"p2",delay:"p2",propes:{y:O},animations:[]},{id:"故事2-2.jpg",type:"Bitmap",image:"故事2-2.jpg",parent:"p2",delay:"p2",propes:{y:2*O},animations:[]},{id:"故事2-3.jpg",type:"Bitmap",image:"故事2-3.jpg",parent:"p2",delay:"p2",propes:{y:3*O},animations:[]},{id:"故事2-4.jpg",type:"Bitmap",image:"故事2-4.jpg",parent:"p2",delay:"p2",propes:{y:4*O},animations:[]},{id:"故事2-5-1-2",type:"TextureAtlas",image:"故事2-5-1-2.jpg",parent:"null",propes:{frames:[[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"故事2-5-1-2-sprite",type:"Sprite",frames:"故事2-5-1-2.sprite",parent:"p2",delay:"p2",propes:{interval:500,timeBased:!0,y:5*O},animations:[]}]),T=B,S=window.innerHeight>1334?1334:window.innerHeight,x=(r={p2:0},Object(b["a"])(r,"p2",S-1206),Object(b["a"])(r,"p3",S-1334),Object(b["a"])(r,"p4",S-1334),[{id:"p3",type:"Container",propes:{},delay:"p3",animations:[{prope:"y",time:[0,0,8*S,8*S],value:[0,-8*S]},{prope:"alpha",time:[0,7.5*S,8*S,8*S],value:[1,0]}]},{id:"故事3.jpg",type:"Bitmap",image:"故事3.jpg",parent:"p3",delay:"p3",propes:{y:0},animations:[]},{id:"故事3-1.jpg",type:"Bitmap",image:"故事3-1.jpg",parent:"p3",delay:"p3",propes:{y:S},animations:[]},{id:"故事3-2.jpg",type:"Bitmap",image:"故事3-2.jpg",parent:"p3",delay:"p3",propes:{y:2*S},animations:[]},{id:"故事3-3.jpg",type:"Bitmap",image:"故事3-3.jpg",parent:"p3",delay:"p3",propes:{y:3*S},animations:[]},{id:"故事3-4.jpg",type:"Bitmap",image:"故事3-4.jpg",parent:"p3",delay:"p3",propes:{y:4*S},animations:[]},{id:"故事3-5-1-2-3",type:"TextureAtlas",image:"故事3-5-1-2-3.jpg",parent:"null",propes:{frames:[[1506,2,750,1334],[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"故事3-5-1-2-3-sprite",type:"Sprite",frames:"故事3-5-1-2-3.sprite",parent:"p3",delay:"p3",propes:{interval:200,timeBased:!0,y:5*S},animations:[]},{id:"故事3-6.jpg",type:"Bitmap",image:"故事3-6.jpg",parent:"p3",delay:"p3",propes:{y:6*S},animations:[]},{id:"故事3-7.jpg",type:"Bitmap",image:"故事3-7.jpg",parent:"p3",delay:"p3",propes:{y:7*S},animations:[]}]),_=x,E=[].concat(Object(u["a"])(_),Object(u["a"])(T),Object(u["a"])(w),Object(u["a"])(f)),H=E;function P(e,t,i,p,n){return e+(t-e)/(p-i)*(n-i)}function k(e){$(".log").append("<p>"+e+"</p>")}function C(){var e,t,i,p=750,a=window.innerHeight>1334?1334:window.innerHeight,r=$("#app"),o={p0:0,p1:a,p2:7*a,p3:13*a},g=null,c={},u=!1;function y(){r.attr({width:p,height:a}),e=new s.a.Stage({canvas:r[0],width:p,height:a}),t=new s.a.Ticker(60),t.addTick(e),t.addTick(s.a.Tween),t.start(),e.enableDOMEvent(s.a.event.POINTER_START,!0),e.enableDOMEvent(s.a.event.POINTER_MOVE,!0),e.enableDOMEvent(s.a.event.POINTER_END,!0)}function j(){var e=0,t=$(".cover .progress"),p=$(".cover .progress-bar"),a=l.length;i=new s.a.LoadQueue,i.maxConnections=5,i.add(l),i.on("load",function(i){e++;var r=n()(e/a*100,10);t.html(r+"%"),p.css({width:r+"%"})}).on("error",function(i){e++;var r=n()(e/a*100,10);t.html(r+"%"),p.css({width:r+"%"})}),i.on("complete",function(){f(),v(),w(),$(".cover").addClass("active"),setTimeout(function(){$(".cover").addClass("none")},50),setTimeout(function(){$(".cover").hide(),$(".logo").fadeOut(300)},1400),setTimeout(function(){$("audio").off()},1400)}),i.start()}function f(){for(var t=0;t<H.length;t++){var p=H[t];p.propes.mask&&(p.propes.mask=c[p.propes.mask]),p.image&&(p.propes.image=i.get(p.image).content),p.frames&&(p.propes.frames=c[p.frames.split(".")[0]].getSprite(p.frames.split(".")[1])),c[p.id]=new s.a[p.type](p.propes),"Graphics"===p.type&&p.draw.call(c[p.id]),p.touchend&&(c[p.id].touchend=p.touchend,c[p.id].on("touchend",function(){this.touchend()})),"null"!==p.parent&&c[p.id].addTo(p.parent?c[p.parent]:e)}for(var n=0;n<m.length;n++){var a=m[n];a.el=$("#"+a.id)[0]}}function h(e,t,i){window.timer=t;for(var p=H.length,n=0;n<p;n++)for(var a=H[n],r=a.animations,s=0;s<r.length;s++){var d=r[s],g=d.value,l=d.time,u=o[a.delay?a.delay:"p1"];t<l[1]+u&&t>l[0]+u?c[a.id][d.prope]=g[0]:t<l[l.length-1]+u&&t>l[l.length-2]+u&&(c[a.id][d.prope]=g[g.length-1]);for(var y=0;y<g.length-1;y++)t<l[y+2]+u&&t>l[y+1]+u&&(c[a.id][d.prope]=P(g[y],g[y+1],l[y+1]+u,l[y+2]+u,t))}for(var j=0;j<m.length;j++){var f=m[j];f.start&&t<f.start&&!f.el.paused?(f.played="",f.el.pause(),k("min pause "+f.el.id+", top:"+t)):f.end&&t>=f.end&&!f.el.paused?(f.el.pause(),f.played="",k("max pause "+f.el.id+", top:"+t)):f.start&&t>=f.start&&!f.played&&f.el.paused&&(f.end&&t<f.end||!f.end)&&(f.el.play(),f.played=!0,k("play "+f.el.id+", top:"+t))}}function v(){g=new d["Scroller"](h,{zooming:!1,animating:!0,bouncing:!1,animationDuration:1e3});var e=function(e){e.stopPropagation(),e.preventDefault(),u=!0,g.doTouchStart(e.touches,e.timeStamp)},t=function(e){u&&(e.stopPropagation(),e.preventDefault(),g.doTouchMove(e.touches,e.timeStamp,e.scale))},i=function(e){g.doTouchEnd(e.timeStamp),u=!1};r.on("touchstart",e).on("touchmove",t).on("touchend",i),g.setDimensions(p,a,p,59e3+a+800+200),window.scroller=g}function w(){$(".filter,.cover").on("touchstart",function(e){e.stopPropagation(),e.preventDefault()})}function b(){for(var e=function(e){var t=$("#"+m[e].id)[0];function i(){document.removeEventListener("WeixinJSBridgeReady",i),document.removeEventListener("YixinJSBridgeReady",i),t.play()}$(t).on("play",function(){this.pause()}),t.play(),document.addEventListener("WeixinJSBridgeReady",i,!1),document.addEventListener("YixinJSBridgeReady",i,!1)},t=0;t<m.length;t++)e(t)}y(),j(),setTimeout(function(){return b()},500),window.pages=c,window.nyphile=r,window.loadQueue=i}C()}});
//# sourceMappingURL=app.8763ea1a.js.map