(function(e){function t(t){for(var a,o,r=t[0],s=t[1],d=t[2],g=0,m=[];g<r.length;g++)o=r[g],n[o]&&m.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);y&&y(t);while(m.length)m.shift()();return i.push.apply(i,d||[]),p()}function p(){for(var e,t=0;t<i.length;t++){for(var p=i[t],a=!0,r=1;r<p.length;r++){var s=p[r];0!==n[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=p[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var p=a[t]={i:t,l:!1,exports:{}};return e[t].call(p.exports,p,p.exports,o),p.l=!0,p.exports}o.m=e,o.c=a,o.d=function(e,t,p){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:p})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var p=Object.create(null);if(o.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(p,a,function(t){return e[t]}.bind(null,a));return p},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var y=s;i.push([0,"chunk-vendors"]),p()})({0:function(e,t,p){e.exports=p("56d7")},1:function(e,t){},2:function(e,t){},"56d7":function(e,t,p){"use strict";p.r(t);p("28a5");var a=p("e814"),n=p.n(a);p("cadf"),p("551c"),p("f751"),p("097d");(function(){function e(){t(),p(),a()}function t(){n=$("#common-landscape"),i=$("#common-pc"),$("#common-share"),$(".common-container")}function p(){var e=function(){switch(window.orientation){case 0:case 180:n.hide();break;case-90:case 90:n.show()}};e(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",e,!1)}function a(){$.os.phone||$.os.tablet||(new QRCode(i.children()[0]).makeCode(location.href),$("body").children().hide(),i.show())}var n,i;$(e)})();var i,o,r=p("ea13"),s=p.n(r),d=p("ec9e"),y=(p("fe3d"),window.innerHeight>1334?1334:window.innerHeight),g=[{id:"z0_m1",start:0,end:2*y},{id:"z1_m1",start:3.5*y},{id:"z3_m1",start:5.5*y},{id:"z4_m1",start:7.5*y},{id:"z5_m1",start:13.5*y},{id:"z6_m1",start:15.5*y}],m="/",c=[{id:"homepage.jpg",src:m+"images/homepage.jpg"},{id:"story1-1.jpg",src:m+"images/story1-1.jpg"},{id:"story1-2.jpg",src:m+"images/story1-2.jpg"},{id:"story1-3.jpg",src:m+"images/story1-3.jpg"},{id:"story1-4.jpg",src:m+"images/story1-4.jpg"},{id:"story1-5-1-2.jpg",src:m+"images/story1-5-1-2.jpg"},{id:"story1.jpg",src:m+"images/story1.jpg"},{id:"story2-1.jpg",src:m+"images/story2-1.jpg"},{id:"story2-2.jpg",src:m+"images/story2-2.jpg"},{id:"story2-3.jpg",src:m+"images/story2-3.jpg"},{id:"story2-4.jpg",src:m+"images/story2-4.jpg"},{id:"story2-5-1-2.jpg",src:m+"images/story2-5-1-2.jpg"},{id:"story2.jpg",src:m+"images/story2.jpg"},{id:"story3-1.jpg",src:m+"images/story3-1.jpg"},{id:"story3-2.jpg",src:m+"images/story3-2.jpg"},{id:"story3-3.jpg",src:m+"images/story3-3.jpg"},{id:"story3-4.jpg",src:m+"images/story3-4.jpg"},{id:"story3-5-1-2-3.jpg",src:m+"images/story3-5-1-2-3.jpg"},{id:"story3-6.jpg",src:m+"images/story3-6.jpg"},{id:"story3-7.jpg",src:m+"images/story3-7.jpg"},{id:"story3.jpg",src:m+"images/story3.jpg"}],l=p("75fc"),u=window.innerHeight>1334?1334:window.innerHeight,f=[{id:"p0",type:"Container",propes:{},delay:"p0",animations:[{prope:"y",time:[0,0,u,u],value:[0,-u]},{prope:"alpha",time:[0,0,u,u],value:[1,0]}]},{id:"homepage.jpg",type:"Bitmap",image:"homepage.jpg",parent:"p0",delay:"p0",propes:{},animations:[]}],j=f,h=window.innerHeight>1334?1334:window.innerHeight,v=[{id:"p1",type:"Container",propes:{},delay:"p1",animations:[{prope:"y",time:[0,0,6*h,6*h],value:[0,-6*h]},{prope:"alpha",time:[0,5.5*h,6*h,6*h],value:[1,0]}]},{id:"story1.jpg",type:"Bitmap",image:"story1.jpg",parent:"p1",delay:"p1",propes:{y:0},animations:[]},{id:"story1-1.jpg",type:"Bitmap",image:"story1-1.jpg",parent:"p1",delay:"p1",propes:{y:h},animations:[]},{id:"story1-2.jpg",type:"Bitmap",image:"story1-2.jpg",parent:"p1",delay:"p1",propes:{y:2*h},animations:[]},{id:"story1-3.jpg",type:"Bitmap",image:"story1-3.jpg",parent:"p1",delay:"p1",propes:{y:3*h},animations:[]},{id:"story1-4.jpg",type:"Bitmap",image:"story1-4.jpg",parent:"p1",delay:"p1",propes:{y:4*h},animations:[]},{id:"story1-5-1-2",type:"TextureAtlas",image:"story1-5-1-2.jpg",parent:"null",propes:{frames:[[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"story1-5-1-2-sprite",type:"Sprite",frames:"story1-5-1-2.sprite",parent:"p1",delay:"p1",propes:{interval:200,timeBased:!0,y:5*h},animations:[]}],w=v,b=p("bd86"),O=window.innerHeight>1334?1334:window.innerHeight,B=(i={p2:0},Object(b["a"])(i,"p2",O-1206),Object(b["a"])(i,"p3",O-1334),Object(b["a"])(i,"p4",O-1334),[{id:"p2",type:"Container",propes:{},delay:"p2",animations:[{prope:"y",time:[0,0,6*O,6*O],value:[0,-6*O]},{prope:"alpha",time:[0,5.5*O,6*O,6*O],value:[1,0]}]},{id:"story2.jpg",type:"Bitmap",image:"story2.jpg",parent:"p2",delay:"p2",propes:{y:0},animations:[]},{id:"story2-1.jpg",type:"Bitmap",image:"story2-1.jpg",parent:"p2",delay:"p2",propes:{y:O},animations:[]},{id:"story2-2.jpg",type:"Bitmap",image:"story2-2.jpg",parent:"p2",delay:"p2",propes:{y:2*O},animations:[]},{id:"story2-3.jpg",type:"Bitmap",image:"story2-3.jpg",parent:"p2",delay:"p2",propes:{y:3*O},animations:[]},{id:"story2-4.jpg",type:"Bitmap",image:"story2-4.jpg",parent:"p2",delay:"p2",propes:{y:4*O},animations:[]},{id:"story2-5-1-2",type:"TextureAtlas",image:"story2-5-1-2.jpg",parent:"null",propes:{frames:[[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"story2-5-1-2-sprite",type:"Sprite",frames:"story2-5-1-2.sprite",parent:"p2",delay:"p2",propes:{interval:500,timeBased:!0,y:5*O},animations:[]}]),T=B,S=window.innerHeight>1334?1334:window.innerHeight,x=(o={p2:0},Object(b["a"])(o,"p2",S-1206),Object(b["a"])(o,"p3",S-1334),Object(b["a"])(o,"p4",S-1334),[{id:"p3",type:"Container",propes:{},delay:"p3",animations:[{prope:"y",time:[0,0,8*S,8*S],value:[0,-8*S]},{prope:"alpha",time:[0,7.5*S,8*S,8*S],value:[1,0]}]},{id:"story3.jpg",type:"Bitmap",image:"story3.jpg",parent:"p3",delay:"p3",propes:{y:0},animations:[]},{id:"story3-1.jpg",type:"Bitmap",image:"story3-1.jpg",parent:"p3",delay:"p3",propes:{y:S},animations:[]},{id:"story3-2.jpg",type:"Bitmap",image:"story3-2.jpg",parent:"p3",delay:"p3",propes:{y:2*S},animations:[]},{id:"story3-3.jpg",type:"Bitmap",image:"story3-3.jpg",parent:"p3",delay:"p3",propes:{y:3*S},animations:[]},{id:"story3-4.jpg",type:"Bitmap",image:"story3-4.jpg",parent:"p3",delay:"p3",propes:{y:4*S},animations:[]},{id:"story3-5-1-2-3",type:"TextureAtlas",image:"story3-5-1-2-3.jpg",parent:"null",propes:{frames:[[1506,2,750,1334],[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"story3-5-1-2-3-sprite",type:"Sprite",frames:"story3-5-1-2-3.sprite",parent:"p3",delay:"p3",propes:{interval:200,timeBased:!0,y:5*S},animations:[]},{id:"story3-6.jpg",type:"Bitmap",image:"story3-6.jpg",parent:"p3",delay:"p3",propes:{y:6*S},animations:[]},{id:"story3-7.jpg",type:"Bitmap",image:"story3-7.jpg",parent:"p3",delay:"p3",propes:{y:7*S},animations:[]}]),_=x,E=[].concat(Object(l["a"])(_),Object(l["a"])(T),Object(l["a"])(w),Object(l["a"])(j)),H=E;function P(e,t,p,a,n){return e+(t-e)/(a-p)*(n-p)}function k(e){$(".log").append("<p>"+e+"</p>")}function C(){var e,t,p,a=750,i=window.innerHeight>1334?1334:window.innerHeight,o=$("#app"),r={p0:0,p1:i,p2:7*i,p3:13*i},y=null,m={},l=!1;function u(){o.attr({width:a,height:i}),e=new s.a.Stage({canvas:o[0],width:a,height:i}),t=new s.a.Ticker(60),t.addTick(e),t.addTick(s.a.Tween),t.start(),e.enableDOMEvent(s.a.event.POINTER_START,!0),e.enableDOMEvent(s.a.event.POINTER_MOVE,!0),e.enableDOMEvent(s.a.event.POINTER_END,!0)}function f(){var e=0,t=$(".cover .progress"),a=$(".cover .progress-bar"),i=c.length;p=new s.a.LoadQueue,p.maxConnections=5,p.add(c),p.on("load",function(p){e++;var o=n()(e/i*100,10);t.html(o+"%"),a.css({width:o+"%"})}).on("error",function(p){e++;var o=n()(e/i*100,10);t.html(o+"%"),a.css({width:o+"%"})}),p.on("complete",function(){j(),v(),w(),$(".cover").addClass("active"),setTimeout(function(){$(".cover").addClass("none")},50),setTimeout(function(){$(".cover").hide(),$(".logo").fadeOut(300)},1400),setTimeout(function(){$("audio").off()},1400)}),p.start()}function j(){for(var t=0;t<H.length;t++){var a=H[t];a.propes.mask&&(a.propes.mask=m[a.propes.mask]),a.image&&(a.propes.image=p.get(a.image).content),a.frames&&(a.propes.frames=m[a.frames.split(".")[0]].getSprite(a.frames.split(".")[1])),m[a.id]=new s.a[a.type](a.propes),"Graphics"===a.type&&a.draw.call(m[a.id]),a.touchend&&(m[a.id].touchend=a.touchend,m[a.id].on("touchend",function(){this.touchend()})),"null"!==a.parent&&m[a.id].addTo(a.parent?m[a.parent]:e)}for(var n=0;n<g.length;n++){var i=g[n];i.el=$("#"+i.id)[0]}}function h(e,t,p){t===20*i&&(o.hide(),$(".common-container").css({"overflow-y":"scroll"})),window.timer=t;for(var a=H.length,n=0;n<a;n++)for(var s=H[n],d=s.animations,y=0;y<d.length;y++){var c=d[y],l=c.value,u=c.time,f=r[s.delay?s.delay:"p1"];t<u[1]+f&&t>u[0]+f?m[s.id][c.prope]=l[0]:t<u[u.length-1]+f&&t>u[u.length-2]+f&&(m[s.id][c.prope]=l[l.length-1]);for(var j=0;j<l.length-1;j++)t<u[j+2]+f&&t>u[j+1]+f&&(m[s.id][c.prope]=P(l[j],l[j+1],u[j+1]+f,u[j+2]+f,t))}for(var h=0;h<g.length;h++){var v=g[h];v.start&&t<v.start&&!v.el.paused?(v.played="",v.el.pause(),k("min pause "+v.el.id+", top:"+t)):v.end&&t>=v.end&&!v.el.paused?(v.el.pause(),v.played="",k("max pause "+v.el.id+", top:"+t)):v.start&&t>=v.start&&!v.played&&v.el.paused&&(v.end&&t<v.end||!v.end)&&(v.el.play(),v.played=!0,k("play "+v.el.id+", top:"+t))}}function v(){y=new d["Scroller"](h,{zooming:!1,animating:!0,bouncing:!1});var e=function(e){e.stopPropagation(),e.preventDefault(),l=!0,y.doTouchStart(e.touches,e.timeStamp)},t=function(e){l&&(e.stopPropagation(),e.preventDefault(),y.doTouchMove(e.touches,e.timeStamp,e.scale))},p=function(e){y.doTouchEnd(e.timeStamp),l=!1};o.on("touchstart",e).on("touchmove",t).on("touchend",p),y.setDimensions(a,i,a,21*i),window.scroller=y}function w(){$(".filter,.cover").on("touchstart",function(e){e.stopPropagation(),e.preventDefault()})}function b(){for(var e=function(e){var t=$("#"+g[e].id)[0];function p(){document.removeEventListener("WeixinJSBridgeReady",p),document.removeEventListener("YixinJSBridgeReady",p),t.play()}$(t).on("play",function(){this.pause()});try{t.play()}catch(e){console.log(e)}document.addEventListener("WeixinJSBridgeReady",p,!1),document.addEventListener("YixinJSBridgeReady",p,!1)},t=0;t<g.length;t++)e(t)}u(),f(),setTimeout(function(){return b()},500);var O=$("#mother")[0],B=$("#manager")[0],T=$("#student")[0];$("#mother").on("touchstart",function(e){O.play(),B.pause(),T.pause()}),$("#manager").on("touchstart",function(e){B.play(),O.pause(),T.pause()}),$("#student").on("touchstart",function(e){T.play(),B.pause(),O.pause()}),window.pages=m,window.nyphile=o,window.loadQueue=p}C()}});
//# sourceMappingURL=app.284b0ba9.js.map