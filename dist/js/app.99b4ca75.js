(function(e){function t(t){for(var i,o,p=t[0],s=t[1],d=t[2],l=0,u=[];l<p.length;l++)o=p[l],n[o]&&u.push(n[o][0]),n[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);y&&y(t);while(u.length)u.shift()();return a.push.apply(a,d||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],i=!0,p=1;p<r.length;p++){var s=r[p];0!==n[s]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},n={app:0},a=[];function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],s=p.push.bind(p);p.push=t,p=p.slice();for(var d=0;d<p.length;d++)t(p[d]);var y=s;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},2:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("28a5");var i=r("e814"),n=r.n(i);r("cadf"),r("551c"),r("f751"),r("097d");(function(){function e(){t(),r(),i()}function t(){n=$("#common-landscape"),a=$("#common-pc"),$("#common-share"),$(".common-container")}function r(){var e=function(){switch(window.orientation){case 0:case 180:n.hide();break;case-90:case 90:n.show()}};e(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",e,!1)}function i(){$.os.phone||$.os.tablet||(new QRCode(a.children()[0]).makeCode(location.href),$("body").children().hide(),a.show())}var n,a;$(e)})();var a,o,p=r("ea13"),s=r.n(p),d=r("ec9e"),y=(r("fe3d"),window.innerHeight>1334?1334:window.innerHeight),l=[{id:"z0_m1",start:0,end:3*y},{id:"z1_m1",start:3.5*y,end:4*y},{id:"z3_m1",start:5.5*y,end:7*y},{id:"z4_m1",start:7.5*y,end:13*y},{id:"z5_m1",start:13.5*y,end:15*y},{id:"z6_m1",start:15.5*y,end:17*y}],u=[{id:"manager",src:"http://hongyu-static.oss-cn-beijing.aliyuncs.com/2019/03/lsd/video/manager.mp4"},{id:"mother",src:"http://hongyu-static.oss-cn-beijing.aliyuncs.com/2019/03/lsd/video/mum.mp4"},{id:"student",src:"http://hongyu-static.oss-cn-beijing.aliyuncs.com/2019/03/lsd/video/student.mp4"},{id:"shallen",src:"http://hongyu-static.oss-cn-beijing.aliyuncs.com/2019/03/lsd/video/shallen.mp4"}],c="/",m=[{id:"homepage.jpg",src:c+"images/homepage.jpg"},{id:"story1-1-texture.jpg",src:c+"images/story1-1-texture.jpg"},{id:"story1-2-texture.jpg",src:c+"images/story1-2-texture.jpg"},{id:"story1-3.jpg",src:c+"images/story1-3.jpg"},{id:"story1-4-texture.jpg",src:c+"images/story1-4-texture.jpg"},{id:"story1-5-texture.jpg",src:c+"images/story1-5-texture.jpg"},{id:"story1.jpg",src:c+"images/story1.jpg"},{id:"story2-1-texture.jpg",src:c+"images/story2-1-texture.jpg"},{id:"story2-2.jpg",src:c+"images/story2-2.jpg"},{id:"story2-3.jpg",src:c+"images/story2-3.jpg"},{id:"story2-4.jpg",src:c+"images/story2-4.jpg"},{id:"story2-5-1-2.jpg",src:c+"images/story2-5-1-2.jpg"},{id:"story2.jpg",src:c+"images/story2.jpg"},{id:"story3-1.jpg",src:c+"images/story3-1.jpg"},{id:"story3-2.jpg",src:c+"images/story3-2.jpg"},{id:"story3-3.jpg",src:c+"images/story3-3.jpg"},{id:"story3-4-texture.jpg",src:c+"images/story3-4-texture.jpg"},{id:"story3-5-texture.jpg",src:c+"images/story3-5-texture.jpg"},{id:"story3-6-texture.jpg",src:c+"images/story3-6-texture.jpg"},{id:"story3-7-texture.jpg",src:c+"images/story3-7-texture.jpg"},{id:"story3.jpg",src:c+"images/story3.jpg"}],g=r("75fc"),f=window.innerHeight>1334?1334:window.innerHeight,h=[{id:"p0",type:"Container",propes:{},delay:"p0",animations:[{prope:"y",time:[0,0,f,f],value:[0,-f]},{prope:"alpha",time:[0,0,f,f],value:[1,0]}]},{id:"homepage.jpg",type:"Bitmap",image:"homepage.jpg",parent:"p0",delay:"p0",propes:{},animations:[]}],v=h,j=window.innerHeight>1334?1334:window.innerHeight,w=[{id:"p1",type:"Container",propes:{},delay:"p1",animations:[{prope:"y",time:[0,0,6*j,6*j],value:[0,-6*j]},{prope:"alpha",time:[0,5.5*j,6*j,6*j],value:[1,0]}]},{id:"story1.jpg",type:"Bitmap",image:"story1.jpg",parent:"p1",delay:"p1",propes:{y:0},animations:[]},{id:"story1-1-texture",type:"TextureAtlas",image:"story1-1-texture.jpg",parent:"null",propes:{frames:[[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"story1-1-sprite",type:"Sprite",frames:"story1-1-texture.sprite",parent:"p1",delay:"p1",propes:{interval:200,timeBased:!0,y:j},animations:[]},{id:"story1-2-texture",type:"TextureAtlas",image:"story1-2-texture.jpg",parent:"null",propes:{frames:[[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"story1-2-sprite",type:"Sprite",frames:"story1-2-texture.sprite",parent:"p1",delay:"p1",propes:{interval:200,timeBased:!0,y:2*j},animations:[]},{id:"story1-3.jpg",type:"Bitmap",image:"story1-3.jpg",parent:"p1",delay:"p1",propes:{y:3*j},animations:[]},{id:"story1-4-texture",type:"TextureAtlas",image:"story1-4-texture.jpg",parent:"null",propes:{frames:[[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"story1-4-sprite",type:"Sprite",frames:"story1-4-texture.sprite",parent:"p1",delay:"p1",propes:{interval:200,timeBased:!0,y:4*j},animations:[]},{id:"story1-5-texture",type:"TextureAtlas",image:"story1-5-texture.jpg",parent:"null",propes:{frames:[[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"story1-5-sprite",type:"Sprite",frames:"story1-5-texture.sprite",parent:"p1",delay:"p1",propes:{interval:200,timeBased:!0,y:5*j},animations:[]}],x=w,b=r("bd86"),T=window.innerHeight>1334?1334:window.innerHeight,B=(a={p2:0},Object(b["a"])(a,"p2",T-1206),Object(b["a"])(a,"p3",T-1334),Object(b["a"])(a,"p4",T-1334),[{id:"p2",type:"Container",propes:{},delay:"p2",animations:[{prope:"y",time:[0,0,6*T,6*T],value:[0,-6*T]},{prope:"alpha",time:[0,5.5*T,6*T,6*T],value:[1,0]}]},{id:"story2.jpg",type:"Bitmap",image:"story2.jpg",parent:"p2",delay:"p2",propes:{y:0},animations:[]},{id:"story2-1-texture",type:"TextureAtlas",image:"story2-1-texture.jpg",parent:"null",propes:{frames:[[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"story2-1-sprite",type:"Sprite",frames:"story2-1-texture.sprite",parent:"p2",delay:"p2",propes:{interval:200,timeBased:!0,y:T},animations:[]},{id:"story2-2.jpg",type:"Bitmap",image:"story2-2.jpg",parent:"p2",delay:"p2",propes:{y:2*T},animations:[]},{id:"story2-3.jpg",type:"Bitmap",image:"story2-3.jpg",parent:"p2",delay:"p2",propes:{y:3*T},animations:[]},{id:"story2-4.jpg",type:"Bitmap",image:"story2-4.jpg",parent:"p2",delay:"p2",propes:{y:4*T},animations:[]},{id:"story2-5-1-2",type:"TextureAtlas",image:"story2-5-1-2.jpg",parent:"null",propes:{frames:[[754,2,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1]}},animations:{}},{id:"story2-5-1-2-sprite",type:"Sprite",frames:"story2-5-1-2.sprite",parent:"p2",delay:"p2",propes:{interval:500,timeBased:!0,y:5*T},animations:[]}]),S=B,O=window.innerHeight>1334?1334:window.innerHeight,E=(o={p2:0},Object(b["a"])(o,"p2",O-1206),Object(b["a"])(o,"p3",O-1334),Object(b["a"])(o,"p4",O-1334),[{id:"p3",type:"Container",propes:{},delay:"p3",animations:[{prope:"y",time:[0,0,8*O,8*O],value:[0,-8*O]},{prope:"alpha",time:[0,7.5*O,8*O,8*O],value:[1,0]}]},{id:"story3.jpg",type:"Bitmap",image:"story3.jpg",parent:"p3",delay:"p3",propes:{y:0},animations:[]},{id:"story3-1.jpg",type:"Bitmap",image:"story3-1.jpg",parent:"p3",delay:"p3",propes:{y:O},animations:[]},{id:"story3-2.jpg",type:"Bitmap",image:"story3-2.jpg",parent:"p3",delay:"p3",propes:{y:2*O},animations:[]},{id:"story3-3.jpg",type:"Bitmap",image:"story3-3.jpg",parent:"p3",delay:"p3",propes:{y:3*O},animations:[]},{id:"story3-4-texture",type:"TextureAtlas",image:"story3-4-texture.jpg",parent:"null",propes:{frames:[[2,4010,750,1334],[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2,3]}},animations:{}},{id:"story3-4-sprite",type:"Sprite",frames:"story3-4-texture.sprite",parent:"p3",delay:"p3",propes:{interval:200,timeBased:!0,y:4*O},animations:[]},{id:"story3-5-texture",type:"TextureAtlas",image:"story3-5-texture.jpg",parent:"null",propes:{frames:[[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"story3-5-sprite",type:"Sprite",frames:"story3-5-texture.sprite",parent:"p3",delay:"p3",propes:{interval:200,timeBased:!0,y:5*O},animations:[]},{id:"story3-6-texture",type:"TextureAtlas",image:"story3-6-texture.jpg",parent:"null",propes:{frames:[[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2]}},animations:{}},{id:"story3-6-sprite",type:"Sprite",frames:"story3-6-texture.sprite",parent:"p3",delay:"p3",propes:{interval:200,timeBased:!0,y:6*O},animations:[]},{id:"story3-7-texture",type:"TextureAtlas",image:"story3-7-texture.jpg",parent:"null",propes:{frames:[[2,5346,750,1334],[2,4010,750,1334],[2,2674,750,1334],[2,1338,750,1334],[2,2,750,1334]],sprites:{sprite:[0,1,2,3,4]}},animations:{}},{id:"story3-7-sprite",type:"Sprite",frames:"story3-7-texture.sprite",parent:"p3",delay:"p3",propes:{interval:800,timeBased:!0,y:7*O},animations:[]}]),_=E,k=[].concat(Object(g["a"])(_),Object(g["a"])(S),Object(g["a"])(x),Object(g["a"])(v)),A=k,H=r("b0e8"),R=r.n(H);function L(){for(var e=0,t=u.length;e<t;e++){var r=u[e];if(r.wechatVideo)return;var i=new R.a(r.src,{context:r.id,mask:!0,fill:!0,poster:"/images/".concat(r.id,".png"),playBtn:!0,jumpBtn:!1,autoClose:!1,canvas:!1,isRotate:!1});i.load(),r.wechatVideo=i}}function M(e,t,r,i,n){return e+(t-e)/(i-r)*(n-r)}function P(e){$(".log").append("<p>"+e+"</p>")}function C(){var e="",t="",r="";$("#left-btn").on("click",function(e){$("#lansidai").hide(),$("#poster").show()}),$("#right-btn").on("click",function(e){$("#lansidai").hide(),$("#form").show()}),$("#upload-btn").on("click",function(e){$("#upload").click()}),$("#confirm-btn").on("click",function(i){t=$("#name")[0].value,r=$("#address")[0].value,$("#wall-image").attr("src",e),$("#wall-name").text(t),$("#wall-address").text(r),$("#form").hide(),$("#wall").show()}),$("#upload").on("change",function(t){var r=t.target.files;if(r&&r[0]){var i=new FileReader;i.onload=function(t){e=t.target.result,$("#upload-btn").attr("src",t.target.result)},i.readAsDataURL(r[0])}})}function z(){var e,t,r,i=750,a=window.innerHeight>1334?1334:window.innerHeight,o=$("#app"),p={p0:0,p1:a,p2:7*a,p3:13*a},y=null,c={},g=!1;function f(){o.attr({width:i,height:a}),e=new s.a.Stage({canvas:o[0],width:i,height:a}),t=new s.a.Ticker(60),t.addTick(e),t.addTick(s.a.Tween),t.start(),e.enableDOMEvent(s.a.event.POINTER_START,!0),e.enableDOMEvent(s.a.event.POINTER_MOVE,!0),e.enableDOMEvent(s.a.event.POINTER_END,!0)}function h(){var e=0,t=$(".cover .progress"),i=$(".cover .progress-bar"),a=m.length;r=new s.a.LoadQueue,r.maxConnections=5,r.add(m),r.on("load",function(r){e++;var o=n()(e/a*100,10);t.html(o+"%"),i.css({width:o+"%"})}).on("error",function(r){e++;var o=n()(e/a*100,10);t.html(o+"%"),i.css({width:o+"%"})}),r.on("complete",function(){v(),w(),x(),$(".cover").addClass("active"),setTimeout(function(){$(".cover").addClass("none")},50),setTimeout(function(){$(".cover").hide(),$(".logo").fadeOut(300)},1400),setTimeout(function(){$("audio").off()},1400)}),r.start()}function v(){for(var t=0;t<A.length;t++){var i=A[t];i.propes.mask&&(i.propes.mask=c[i.propes.mask]),i.image&&(i.propes.image=r.get(i.image).content),i.frames&&(i.propes.frames=c[i.frames.split(".")[0]].getSprite(i.frames.split(".")[1])),c[i.id]=new s.a[i.type](i.propes),"Graphics"===i.type&&i.draw.call(c[i.id]),i.touchend&&(c[i.id].touchend=i.touchend,c[i.id].on("touchend",function(){this.touchend()})),"null"!==i.parent&&c[i.id].addTo(i.parent?c[i.parent]:e)}for(var n=0;n<l.length;n++){var a=l[n];a.el=$("#"+a.id)[0]}}function j(e,t,r){t===20*a&&(o.hide(),$(".video").show(),$("#lansidai").show(),L(),$(".common-container").css({"overflow-y":"scroll"})),window.timer=t;for(var i=A.length,n=0;n<i;n++)for(var s=A[n],d=s.animations,y=0;y<d.length;y++){var u=d[y],m=u.value,g=u.time,f=p[s.delay?s.delay:"p1"];t<g[1]+f&&t>g[0]+f?c[s.id][u.prope]=m[0]:t<g[g.length-1]+f&&t>g[g.length-2]+f&&(c[s.id][u.prope]=m[m.length-1]);for(var h=0;h<m.length-1;h++)t<g[h+2]+f&&t>g[h+1]+f&&(c[s.id][u.prope]=M(m[h],m[h+1],g[h+1]+f,g[h+2]+f,t))}for(var v=0;v<l.length;v++){var j=l[v];j.start&&t<j.start&&!j.el.paused?(j.played="",j.el.pause(),P("min pause "+j.el.id+", top:"+t)):j.end&&t>=j.end&&!j.el.paused?(j.el.pause(),j.played="",P("max pause "+j.el.id+", top:"+t)):j.start&&t>=j.start&&!j.played&&j.el.paused&&(j.end&&t<j.end||!j.end)&&(j.el.play(),j.played=!0,P("play "+j.el.id+", top:"+t))}}function w(){y=new d["Scroller"](j,{zooming:!1,animating:!0,bouncing:!1});var e=function(e){e.stopPropagation(),e.preventDefault(),g=!0,y.doTouchStart(e.touches,e.timeStamp)},t=function(e){g&&(e.stopPropagation(),e.preventDefault(),y.doTouchMove(e.touches,e.timeStamp,e.scale))},r=function(e){y.doTouchEnd(e.timeStamp),g=!1};o.on("touchstart",e).on("touchmove",t).on("touchend",r),y.setDimensions(i,a,i,21*a),window.scroller=y}function x(){$(".filter,.cover").on("touchstart",function(e){e.stopPropagation(),e.preventDefault()})}function b(){for(var e=1;e<l.length;e++)!function(e){var t=$("#"+l[e].id)[0],r=function e(){document.removeEventListener("WeixinJSBridgeReady",e),document.removeEventListener("YixinJSBridgeReady",e),t.play()};$(t).on("play",function(){this.pause()}),t.addEventListener("ended",function(){l[e].played=""});try{t.play()}catch(i){console.error(i)}document.addEventListener("WeixinJSBridgeReady",r,!1),document.addEventListener("YixinJSBridgeReady",r,!1)}(e)}f(),h(),b(),document.addEventListener("WeixinJSBridgeReady",function(){document.getElementById("z0_m1").play(),l[0].played=!0},!1),C(),window.pages=c,window.nyphile=o,window.loadQueue=r,window.musics=l,window.videos=u}(function(e,t,r){function i(e){WeixinJSBridge.invoke("getNetworkType",{},function(t){e._play()})}function n(){var e=this;e._play();try{return void i(e)}catch(t){document.addEventListener("WeixinJSBridgeReady",function(){e._play()},!1)}}Audio.prototype._play=Audio.prototype.play,HTMLAudioElement.prototype._play=HTMLAudioElement.prototype.play,Audio.prototype.play=n,HTMLAudioElement.prototype.play=n})(window,document),$(z)}});
//# sourceMappingURL=app.99b4ca75.js.map